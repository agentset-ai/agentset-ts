---
title: 'Citations'
description: 'Get answers backed with cited sources that users can inspect'
---

## Source Attribution with Citations

Agentset ensures that all answers generated by your agents are properly attributed to source documents, this:

- Increases trust in agent responses
- Allows users to verify information
- Creates an audit trail for important insights
- Helps identify knowledge gaps in your document set 

## How Citations Work

When an agent answers a query, it includes citations to the specific documents and passages that informed the response:

<img
  className="block mx-auto"
  src="/images/Citations.png"
  alt="Citations Example"
  width="80%"
/>

Each citation includes:

- **Document Information**: The title and metadata of the source document
- **Page/Passage Reference**: The specific location in the document
- **Quote**: The relevant text passage from the document
- **Confidence Score**: How relevant the citation is to the answer

## Accessing Citations

Citations are returned with every agent response:

```javascript
const response = await agentset.agents.run({
  agentId: agent.id,
  query: "What is our Q1 revenue forecast?",
});

// The main answer
console.log(response.answer);

// The sources that informed the answer
console.log(response.sources);
// [
//   {
//     documentId: "doc_123abc",
//     documentName: "Q1 2025 Financial Projections.pdf",
//     page: 7,
//     text: "Q1 revenue is forecasted at $3.2M, representing a 15% YoY growth.",
//     relevanceScore: 0.92
//   },
//   ...
// ]
```

## Citation Controls

You can control how citations are included in responses:

```javascript
const response = await agentset.agents.run({
  agentId: agent.id,
  query: "What is our Q1 revenue forecast?",
  options: {
    citations: {
      // Include inline citations in the answer text
      inline: true,
      // Format of inline citations: "number", "author-date", or "superscript"
      inlineFormat: "number",
      // Maximum number of citations to include
      maxCitations: 5,
      // Minimum relevance score for included citations
      minRelevanceScore: 0.7,
      // Include relevant quotes from source documents
      includeQuotes: true,
    }
  }
});
```

## Citation Verification

Agentset verifies citations to ensure accuracy:

1. **Source Validation**: Ensures citations reference actual content from the document
2. **Relevance Checking**: Verifies citations are relevant to the specific query
3. **Completeness Assessment**: Checks if important information is missing citations
4. **Context Preservation**: Ensures quotes aren't taken out of context

## Citation Formats

Agentset supports various citation formats to match your application's needs:

<Tabs>
  <Tab title="Numbered Citations">
    "According to our financial projections, Q1 revenue is forecasted at $3.2M [1], representing a 15% YoY growth [1][2]."
  </Tab>
  <Tab title="Author-Date">
    "According to our financial projections, Q1 revenue is forecasted at $3.2M (Financial Report 2025, p.7), representing a 15% YoY growth (Financial Report 2025, p.7; Market Analysis 2025, p.12)."
  </Tab>
  <Tab title="Footnotes">
    "According to our financial projections, Q1 revenue is forecasted at $3.2M¹, representing a 15% YoY growth¹²."
    
    ---
    
    ¹ Financial Report 2025, p.7
    ² Market Analysis 2025, p.12
  </Tab>
</Tabs>

## Document Explorer Integration

For web applications, Agentset provides a document explorer component that allows users to click on citations and view the original source material:

```javascript
// In your React application
import { DocumentExplorer } from 'agentset/react';

function ChatInterface() {
  return (
    <div>
      <ChatMessages messages={messages} />
      <DocumentExplorer 
        sources={latestResponse.sources} 
        onSourceClick={handleSourceClick} 
      />
    </div>
  );
}
```

This creates an interactive experience where users can verify information by exploring source documents directly from citations.